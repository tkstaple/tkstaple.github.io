jQuery(document).ready(function($){var e=$(window),t=$(window).width(),o=$(window).height(),a=$("body"),i=$("#main"),n=$("#header"),s=function(){function e(){var e=a.data("page");r[e]&&(r.regular.init(),o=e,r[e].init())}function t(){r.regular.destroy(),o&&r[o]&&r[o].destroy&&r[o].destroy()}var o;return jQuery(e),{initializePage:e,unloadPage:t}}(),$=jQuery.noConflict();window.mainScripts=function(){"use strict";window.Core={ui:{removePreloader:function(){var e=$("#preloader");e.one("webkitAnimationEnd oAnimationEnd animationend animationend",function(e){$(this).remove()})},setMenuLinks:function(){var e=$(".navbar-nav > li > a, .logo a, .prjct-item a, .post-article a, .links-section .pag a"),t=$("#page-title");e.click(function(e){e.preventDefault(),t.fadeOut(10).remove();var o=$(this),i=o.prop("href");setTimeout(function(){2===e.which||e.metaKey||e.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&e.ctrlKey?window.open(i,"_blank"):(a.addClass("fadeOut"),window.location=i)},333)})},setlzl:function(){$(".lazy").unveil({offset:777,throttle:350,breakpoints:[{minWidth:768,attribute:"data-src-md"},{minWidth:1200,attribute:"data-src-lg"}],debug:!1}).on("loading.unveil",function(){console.log("Unveiling",this)}).on("loaded.unveil",function(){console.log("Unveiled",this)})},setAnchors:function(){$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},{duration:777,easing:"easeInOutExpo"}),!1}})})},setFixedScrollBlock:function(){a.find(".big-heading").length||$(".post-entry").fixedScrollBlock({slideBlock:".header",extraTop:150}),$(".comments-section").fixedScrollBlock({slideBlock:".comments-col",extraTop:99})},setFixedWidthElmnts:function(e){var t=e;$(t).each(function(e,t){var o=$(this),a=o.parent().width();o.css({width:a})})},setParallax:function(){var e=!1,t=$(".bg-parallax");$(window).scroll(function(){e=!0}),setInterval(function(){e&&(e=!1,window.scrollPos=$(window).scrollTop(),t.each(function(e,t){var a=$(this).offset().top,i=$(this).height(),n=.5*(scrollPos-(a+i-o));$(this).css({transform:"translate3d(0px,"+n+"px, 0px)"})}))},11)},setHeadingParallax:function(){var e=!1,t=$(".parallax"),o=t.outerHeight();$(window).scroll(function(){e=!0}),setInterval(function(){e&&(e=!1,window.scrolled=.9*$(window).scrollTop(),t.each(function(e,t){$(this).css({transform:"translate3d(0px,"+.21*scrolled+"px, 0px)"});var a=window.scrollY-275,i=(o-a)/o;$(this).css("opacity",i)}))},5)},setWdgtLastNumber:function(){var e=$(".widget_recent_entries ul li");$(e).each(function(e){var t=$(this);$("<span class='wdgt-counter'>"+(e+1)+"</span>").prependTo(t)})},setBlogSidebar:function(){var e=$("#sidebar-bg"),o=$("#the-post"),a=$(".post-body").outerHeight(),i=$(".blog-sidebar").outerHeight(),n=$("#main").outerHeight(),s=$("#the-post").outerWidth(),r=$(".blog-sidebar").outerWidth(),l=(t-s)/2+r,d=$(".link-area").outerHeight()+$(".comments-section").outerHeight()+$("#footer").outerHeight(),c=n-d;e.hide(),e.fadeIn(999),e.css({height:1.05*c,width:l+.15*r}),a>i&&$(o).fixedScrollBlock({slideBlock:".blog-sidebar",extraTop:100})},setFiltersTrgr:function(){var e=$(".filters-icon"),t=$(".projects"),i=$(window).scrollTop(),n=$(t).offset();o<t.height()?i>=n.top-350&&!a.hasClass("near-bottom")?$(e).addClass("animated").removeClass("fix"):$(e).removeClass("animated").addClass("fix"):i>=n.top-555?$(e).addClass("animated").removeClass("fix"):$(e).removeClass("animated").addClass("fix")},setCompactMenu:function(){if(e.width()<=768){var t=$(".navbar-nav"),o=$(".navbar-toggle, #overlay"),i=$(".navbar-toggle"),n=!1;if($(o).on("click",function(e){n?($(i).fadeIn("slow"),a.removeClass("compact-menu-opened"),$(i).addClass("collapsed"),"true"==$(i).attr("aria-expanded")&&"false"==$(i).attr("aria-expanded"),document.ontouchmove=function(e){return!0}):($(i).hide(),a.addClass("compact-menu-opened"),$(i).removeClass("collapsed"),"false"==$(i).attr("aria-expanded")&&"true"==$(i).attr("aria-expanded"),document.ontouchmove=function(e){e.preventDefault()}),n=!n,e.preventDefault()}),!a.hasClass("compact-menu-enabled")){a.addClass("compact-menu-enabled"),a.append("<div id='compact-menu'></div>"),$(t).appendTo("#compact-menu");var s=$("body > #compact-menu > ul > li"),r=$("body > #compact-menu");$(s).each(function(e){var t=$(this);$("<span class='menu-counter'>0"+(e+1)+"</span>").prependTo(t)})}}else{var l=$("body > #compact-menu"),d=l.find(".nav"),c=$(".navbar-toggle");a.removeClass("compact-menu-enabled compact-menu-opened"),c.addClass("collapsed"),"true"==c.attr("aria-expanded")&&c.trigger("click");var u=$(".navbar-collapse");!$(u).find(l).length>0&&($(d).appendTo(u),l.remove(),$(".menu-counter").remove())}},setMap:function(){function e(){var e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{color:"#8d8d8d"},{weight:"0.35"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]}],o=new google.maps.StyledMapType(e,{name:"Styled Map"}),a=new google.maps.LatLng(37.075474,15.286586),i={zoom:13,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:!1,streetViewControl:!1,mapTypeControl:!1,scaleControl:!1,scrollwheel:!1,disableDefaultUI:!0,draggable:!("ontouchend"in document)};t=new google.maps.Map(document.getElementById("map-canvas"),i),t.mapTypes.set("map_style",o),t.setMapTypeId("map_style");var n=new google.maps.LatLng(37.075474,15.286586),s=new google.maps.MarkerImage("images/map-logo.png",new google.maps.Size(58,65),new google.maps.Point(0,0),new google.maps.Point(24,62)),r=new google.maps.Marker({position:n,map:t,clickable:!1,title:"Buro",icon:s})}var t;google.maps.event.addDomListener(window,"load",e),$(function(){$(".zoom-in").click(function(){var e=t.getZoom();return t.setZoom(e+1),!1}),$(".zoom-out").click(function(){var e=t.getZoom();return t.setZoom(e-1),!1})})},setMapHeight:function(){var e=$("#map-canvas"),t=a.find(".map-container").data("map-height");e.css("height",t)}},tweaks:{setTouchNav:function(){$(".nav.navbar-nav").each(function(){new TouchNav({navBlock:this})})},setCustomHover:function(){$(".post-article .img-holder a").touchHover(),$(".block-holder .img-holder").touchHover()},setMobileNavHover:function(){if(769>t)if(a.hasClass("mobile")){var e=$("#compact-menu > ul > li > a");$(e).on("touchstart",function(t){var o=$(this),a=$(this).parent();if(o.hasClass("hover")||!a.find(".dropdown-menu").length)return!0;if(o.addClass("hover"),$(e).not(this).removeClass("hover"),o.hasClass("hover")){var i=$(e).not(this).parent();i.animate({marginBottom:window.mar},500)}t.preventDefault();var i=$(this).parent(),n=i.find(".dropdown-menu").outerHeight(),s=$(this).parent().find("ul").find("li"),r=s.length,l=s.height(),d=r*l;return window.mar=parseInt(i.css("margin-bottom")),i.animate({marginBottom:d+n+15},500),!1});var o=$("#compact-menu, #overlay");$(o).on("touchstart",function(t){var a=$(t.target);a.is(o)&&($(e).removeClass("hover"),$(e).parent().animate({marginBottom:window.mar},500))})}else{var i=$("#compact-menu > ul > li");window.mar=parseInt(i.css("margin-bottom")),$(i).hoverIntent(function(e){var t=$(this),o=t.find(".dropdown-menu").outerHeight(),a=t.find("li"),i=a.length,n=a.height(),s=i*n;$(this).find(".dropdown-menu").length&&t.animate({marginBottom:s+window.mar},333)},function(e,t){var o=$(this),a=o.find(".dropdown-menu").outerHeight();o.animate({marginBottom:window.mar},333)})}},setDropOverlay:function(){if(!a.hasClass("no-menu-hover")){var e=$("#wrapper"),t=$("#page-title"),o="link-hovered",i=t.find(".title"),n=t.find(".subtitle");$("#navbar > ul > li").each(function(){var t=$(this),a=t.find("a").data("title"),s=t.find("a").data("subtitle");t.on("itemhover",function(){t.hasClass("hover")&&(e.addClass(o),i.text(a),n.text(s))}).on("itemleave",function(){t.hasClass("hover")||(e.removeClass(o),i.text(""),n.text(""))})})}},setShowScrollLink:function(){a.addClass("top-page"),window.winRatio=t/4;var e=$(window),t=e.outerHeight();$(".js-link").each(function(){function i(){$docHeight=$(document).height();var t=e.scrollTop(),i=$("#footer").outerHeight(),n=t+o-$docHeight,r=$docHeight-i;0===t?a.addClass("top-page"):a.removeClass("top-page"),t>winRatio?(s.removeClass("disabled").addClass("enabled"),t+o>r-50?a.addClass("near-bottom"):a.removeClass("near-bottom")):s.removeClass("enabled").addClass("disabled")}function n(){t=e.outerHeight(),winRatio=t/4}var s=$(this);s.addClass("disabled"),n(),e.on("scroll",i),e.on("resize orientationchange",n)})},setScrollLinks:function(){var e=$(".btn-top"),o=$("#main").find(".container").outerWidth(),a=(t-o)/2;480>=t?e.css("right",a+5):e.css("right",a-7)},setValidation:function(){var e="error",t="success",o=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,a=/^[0-9]+$/;$("form.validate-form").each(function(){function i(e){l=!0,d.each(n),l?(Core.tweaks.submitForm(),e.preventDefault()):e.preventDefault()}function n(e,t){var i=$(t),n=i.closest(".input-row");i.hasClass("required-field")&&s(n,i,!i.val().length||i.val()===i.prop("defaultValue")),i.hasClass("required-email")&&s(n,i,!o.test(i.val())),i.hasClass("required-number")&&s(n,i,!a.test(i.val())),i.hasClass("required-select")&&s(n,i,0===i.get(0).selectedIndex)}function s(o,a,i){o.removeClass(e).removeClass(t),i?(o.addClass(e),a.one("focus",function(){o.removeClass(e).removeClass(t)}),l=!1):o.addClass(t)}var r=$(this).attr("novalidate","novalidate"),l=!0,d=r.find("input, textarea, select");r.off("submit"),r.on("submit",i)})},setValidateNews:function(){var e="error",t="success",o=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;$("form.validate-news").each(function(){function a(e){r=!0,l.each(i),r?(Core.tweaks.submitNews(),e.preventDefault()):e.preventDefault()}function i(e,t){var a=$(t),i=a.closest(".input-row");a.hasClass("required-email")&&n(i,a,!o.test(a.val()))}function n(o,a,i){o.removeClass(e).removeClass(t),i?(o.addClass(e),a.one("focus",function(){o.removeClass(e).removeClass(t)}),r=!1):o.addClass(t)}var s=$(this).attr("novalidate","novalidate"),r=!0,l=s.find("input");s.off("submit"),s.on("submit",a)})},submitForm:function(){function e(){$("#msg-submit-form").removeClass("hidde")}var t=$("#name").val(),o=$("#mail").val(),a=$("#phone").val(),i=$("#topic").val(),n=$("#message").val();$.ajax({type:"POST",url:"php/form-process.php",data:"name="+t+"&email="+o+"&topic="+i+"&message="+n,success:function(t){"success"==t&&e()}})},submitNews:function(){function e(){$("#msg-submit-news").removeClass("hidde"),$(".validate-news").unbind("submit")}var t=$("#news-mail").val();$.ajax({type:"POST",url:"php/newsletter-process.php",data:"email="+t,success:function(t){"success"==t&&e()}})},setDropOverlayDestroy:function(){var e=$("#wrapper"),t=$("#page-title"),o="link-hovered";$("#navbar > ul > li").each(function(){var t=$(this);e.removeClass(o),t.off("itemhover"),t.off("itemleave")})}},third:{setTwitter:function(){var e=$(".twitter-feed").data("twt-counter");e>1?$(".twitter-feed").twittie({dateFormat:"%b. %d, %Y",template:'<div class="carousel-caption"><div class="twt-meta"><div class="date">{{date}}&nbsp;&mdash;</div><div class="twt-id">&nbsp;{{screen_name}}</div></div>{{tweet}}</div>',count:25,hideReplies:!0},function(){$(".twitter-feed").find(".item").first().addClass("active"),$(".twitter-feed > ul > .item").appendTo(".twitter-feed"),$(".twitter-feed > ul").remove()}):$(".twitter-feed").twittie({dateFormat:"%b. %d, %Y",template:'<div class="twt-meta"><div class="date">{{date}}&nbsp;&mdash;</div><div class="twt-id">&nbsp;{{screen_name}}</div></div>{{tweet}}',count:e,hideReplies:!0},function(){$(".twitter-feed").find(".item").first().addClass("active"),$(".twitter-feed > ul > .item").appendTo(".twitter-feed"),$(".twitter-feed > ul").remove()})},setInfiniteScroll:function(){var e=$(".portfolio-list");e.infinitescroll({debug:!1,nextSelector:".next-post a",navSelector:".grid-pag",itemSelector:".prjct-item",animate:!1,bufferPx:777},function(t){var o=$(t).hide();Core.ui.setFiltersTrgr(),o.imagesLoaded(function(){e.isotope("appended",$(o)),setColumns(),o.fadeIn(),e.isotope("layout")})})},setIsotopeFilter:function(){var e="active",t=$(".filter-nav li"),o=$(".js-ajax-container");setTimeout(function(){o.isotope("layout")},100),t.each(function(){function a(){var a="all"===s?"*":'[data-filter*="'+s+'"]';t.removeClass(e),i.addClass(e),o.isotope({filter:a})}var i=$(this),n=i.find("a"),s=n.attr("data-filter");n.on("click",function(t){t.preventDefault(),i.hasClass(e)||a()}),i.hasClass(e)&&a()})},setFilterActions:function(){var e=!1,t=$(".fltrs-trggr, #fltrs-overlay");t.click(function(t){e?(a.removeClass("filters-open"),$(".filter-nav, #fltrs-overlay").removeClass("hi").addClass("bye"),$(".fltrs-trggr").show(),setTimeout(function(){$("#fltrs-overlay").addClass("interstitial")},303),setTimeout(function(){$(".filter-nav, #fltrs-overlay").removeClass("bye"),$("#fltrs-overlay").removeClass("interstitial")},335)):(a.addClass("filters-open"),$(".filter-nav, #fltrs-overlay").addClass("hi"),$(".fltrs-trggr").hide()),e=!e,t.preventDefault()})},setIsotopeLayout:function(){if(i.hasClass("portfolio-page")){var e=$(".portfolio-list"),o=$(".prjct-item"),a=$(".projects").attr("class"),n=a.split("cols-"),s=n[1],r=5,l=s;window.setColumns=function(){function e(){return o+"%"}r=t>800?l:t>420?2:1;var o=100/r-.21;$(".prjct-item").css("width",e)},setColumns(),o.find("img").addClass("img-responsive"),e.imagesLoaded(function(){e.isotope({itemSelector:".prjct-item",percentPosition:!0,masonry:{columnWidth:e.width()/r}}),e.addClass("fadeit")})}},destroyIsotopeLayout:function(){var e=$(".portfolio-list");e.isotope("destroy")},setStickyPanel:function(){var e=$("#wrapper"),t=$(".slider");ResponsiveHelper.addRange({"168..":{on:function(){t.length?e.stickyPanel({slickyClass:"fixedheader",extraOffset:9999999,fakeBlock:!1,scrollClasses:!0}):e.stickyPanel({slickyClass:"fixedheader",extraOffset:35,fakeBlock:!1,scrollClasses:!0})},off:function(){e.data("StickyPanel")&&e.data("StickyPanel").destroy()}}})},setPlaceholder:function(){$("input, textarea").placeholder()}}},navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)?(window.mobileDevice=!0,a.addClass("mobile")):window.mobileDevice=!1,(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&$("body").addClass("iosdevice");var n=!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0;/mobi/i.test(navigator.userAgent)&&!location.hash&&setTimeout(function(){pageYOffset||window.scrollTo(0,1)},999);var s=navigator.userAgent.indexOf("Safari")>-1;(s&&navigator.userAgent.indexOf("Mac")>1||/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion))&&(window.onpageshow=function(e){e.persisted&&location.reload()})},mainScripts(),Function("/*@cc_on return document.documentMode===10@*/")()&&(document.documentElement.className+=" ie");var r={regular:{init:function(){Core.ui.removePreloader(),Core.ui.setlzl(),Core.ui.setMenuLinks(),Core.ui.setAnchors(),Core.ui.setCompactMenu(),Core.ui.setHeadingParallax(),Core.ui.setParallax(),a.find(".map-container").length>0&&(Core.ui.setMap(),Core.ui.setMapHeight()),Core.tweaks.setTouchNav(),Core.tweaks.setMobileNavHover(),Core.tweaks.setScrollLinks(),Core.tweaks.setDropOverlay(),Core.tweaks.setValidation(),Core.tweaks.setValidateNews(),Core.third.setStickyPanel(),a.find(".twitter-feed").length>0&&Core.third.setTwitter()},destroy:function(){Core.tweaks.setDropOverlayDestroy()}},portfolio:{init:function(){Core.third.setInfiniteScroll(),Core.third.setIsotopeFilter(),Core.third.setFilterActions()},destroy:function(){Core.third.destroyIsotopeLayout()}},singleProjectPage:{init:function(){}},blogPage:{init:function(){Core.tweaks.setCustomHover()}},singleBlogPage:{init:function(){Core.ui.setFixedWidthElmnts(".header, .comments-col, .blog-sidebar ul"),Core.ui.setWdgtLastNumber(),Core.third.setPlaceholder()}},contactPage:{init:function(){}}};e.on("load",function(){$docHeight=$(document).height(),Core.third.setIsotopeLayout(),Core.tweaks.setShowScrollLink(),Core.ui.setFixedScrollBlock(),i.hasClass("portfolio-page")&&Core.ui.setFiltersTrgr(),a.hasClass("single-post")&&Core.ui.setBlogSidebar()});var l=!1;e.on("resize orientationchange",function(){l=!0}),setInterval(function(){l&&(l=!1,t=$(window).width(),Core.ui.setCompactMenu(),Core.tweaks.setMobileNavHover(),Core.tweaks.setScrollLinks(),i.hasClass("portfolio-page")&&(Core.third.setIsotopeLayout(),Core.ui.setFiltersTrgr()),a.hasClass("single-post")&&(a.hasClass("mobile")||$(window).scrollTop(0),Core.ui.setBlogSidebar(),Core.ui.setFixedWidthElmnts(".header, .comments-col, .blog-sidebar ul")))},35);var d=!1;e.on("scroll",function(){d=!0}),setInterval(function(){d&&(d=!1,Core.ui.setFixedWidthElmnts(".header, .comments-col"),a.hasClass("portfolio-page")&&Core.ui.setFiltersTrgr())},35)});